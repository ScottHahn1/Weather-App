(()=>{"use strict";const e=document.querySelector(".search"),n=document.querySelector(".weather-details"),t=(document.querySelector(".extra-weather-details"),document.querySelector(".hourly-weather-details")),a=(document.getElementById("celsius-btn"),document.getElementById("fahrenheit-btn"),document.querySelector(".icon-div")),p=document.querySelector(".feels-like"),r=document.querySelector(".humidity"),o=document.querySelector(".wind-speed"),c=document.querySelector(".date-time"),i=[],s=[];async function d(){let n=e.value;const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),a=await t.json();return`${a.name} \n \n ${a.weather[0].description} \n \n ${Math.round(a.main.temp)} °C \n ${a.weather[0].icon}`}async function h(){let n=e.value;const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),a=await t.json();return`${Math.round(a.main.feels_like)} °C ${a.main.humidity}% ${Math.round(3.6*a.wind.speed)} km/h`}async function m(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();return`${n.name} \n \n ${n.weather[0].description} \n \n ${Math.round(n.main.temp)} °C \n ${n.weather[0].icon}`}async function w(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();return`${Math.round(n.main.feels_like)} °C ${n.main.humidity}% ${Math.round(3.6*n.wind.speed)} km/h`}async function g(e,n){const t=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&appid=20a668db8e8042ee8d84be64a18dcb23&units=metric`),a=await t.json();!function(e){const n=new Date,t=n.getTime(),a=6e4*n.getTimezoneOffset(),p=new Date(t+a+1e3*e);s.push(p);let r=p.getHours();for(let e=0;e<8;e++)i[e].innerText=r+++":00 \n",24===r&&(r=0)}(a.timezone_offset),function(){const e=s.toString().split(" ").slice(0,5).join(" ");s.pop(),c.innerText=e}();for(let e=0;e<8;e++)i[e].innerHTML+=`${Math.round(a.hourly[e].temp)} °C`,b(a.hourly[e].weather[0].icon,e),x(a.hourly[e].weather[0].icon,e)}function u(e){let n=new Image;switch(e[0]){case"01d":n.src="http://openweathermap.org/img/wn/01d@2x.png",a.append(n);break;case"02d":n.src="http://openweathermap.org/img/wn/02d@2x.png",a.append(n);break;case"03d":n.src="http://openweathermap.org/img/wn/03d@2x.png",a.append(n);break;case"04d":n.src="http://openweathermap.org/img/wn/04d@2x.png",a.append(n);break;case"09d":n.src="http://openweathermap.org/img/wn/09d@2x.png",a.append(n);break;case"10d":n.src="http://openweathermap.org/img/wn/10d@2x.png",a.append(n);break;case"11d":n.src="http://openweathermap.org/img/wn/11d@2x.png",a.append(n);break;case"13d":n.src="http://openweathermap.org/img/wn/13d@2x.png",a.append(n);break;case"50d":n.src="http://openweathermap.org/img/wn/50d@2x.png",a.append(n)}}function l(e){let n=new Image;switch(e[0]){case"01n":n.src="http://openweathermap.org/img/wn/01n@2x.png",a.append(n);break;case"02n":n.src="http://openweathermap.org/img/wn/02n@2x.png",a.append(n);break;case"03":n.src="http://openweathermap.org/img/wn/03n@2x.png",a.append(n);break;case"04n":n.src="http://openweathermap.org/img/wn/04n@2x.png",a.append(n);break;case"09n":n.src="http://openweathermap.org/img/wn/09n@2x.png",a.append(n);break;case"10n":n.src="http://openweathermap.org/img/wn/10n@2x.png",a.append(n);break;case"11n":n.src="http://openweathermap.org/img/wn/11n@2x.png",a.append(n);break;case"13n":n.src="http://openweathermap.org/img/wn/13n@2x.png",a.append(n);break;case"50n":n.src="http://openweathermap.org/img/wn/50n@2x.png",a.append(n)}}function b(e,n){let t=new Image;switch(e){case"01d":t.src="http://openweathermap.org/img/wn/01d@2x.png",i[n].append(t);break;case"02d":t.src="http://openweathermap.org/img/wn/02d@2x.png",i[n].append(t);break;case"03d":t.src="http://openweathermap.org/img/wn/03d@2x.png",i[n].append(t);break;case"04d":t.src="http://openweathermap.org/img/wn/04d@2x.png",i[n].append(t);break;case"09d":t.src="http://openweathermap.org/img/wn/09d@2x.png",i[n].append(t);break;case"10d":t.src="http://openweathermap.org/img/wn/10d@2x.png",i[n].append(t);break;case"11d":t.src="http://openweathermap.org/img/wn/11d@2x.png",i[n].append(t);break;case"13d":t.src="http://openweathermap.org/img/wn/13d@2x.png",i[n].append(t);break;case"50d":t.src="http://openweathermap.org/img/wn/50d@2x.png",i[n].append(t)}}function x(e,n){let t=new Image;switch(e){case"01n":t.src="http://openweathermap.org/img/wn/01n@2x.png",i[n].append(t);break;case"02n":t.src="http://openweathermap.org/img/wn/02n@2x.png",i[n].append(t);break;case"03n":t.src="http://openweathermap.org/img/wn/03n@2x.png",i[n].append(t);break;case"04n":t.src="http://openweathermap.org/img/wn/04n@2x.png",i[n].append(t);break;case"09n":t.src="http://openweathermap.org/img/wn/09n@2x.png",i[n].append(t);break;case"10n":t.src="http://openweathermap.org/img/wn/10n@2x.png",i[n].append(t);break;case"11n":t.src="http://openweathermap.org/img/wn/11n@2x.png",i[n].append(t);break;case"13n":t.src="http://openweathermap.org/img/wn/13n@2x.png",i[n].append(t);break;case"50n":t.src="http://openweathermap.org/img/wn/50n@2x.png",i[n].append(t)}}!async function(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();g(n.coord.lat,n.coord.lon)}(),async function(){let e=await Promise.all([m(),w()]);const t=e[0].split(" ");t.pop();const a=t.join(" ");n.innerText=a;const c=e[0].split(" ").slice(-1);u(c),l(c);const i=e[1].split(" ");p.innerText=`${i[0]}  ${i[1]}`,r.innerText=i[2],o.innerText=`${i[3]}  ${i[4]}`}(),function(){for(let e=0;e<8;e++){const n=document.createElement("div");n.classList.add(`hour-div-${e}`),t.append(n),i.push(n)}}(),e.addEventListener("keydown",(t=>{13===t.keyCode&&(async function(){let e=await Promise.all([d(),h()]);const t=e[0].split(" ");t.pop();const a=t.join(" ");n.innerText=a;const c=e[0].split(" ").slice(-1);u(c),l(c);const i=e[1].split(" ");p.innerText=`${i[0]}  ${i[1]}`,r.innerText=i[2],o.innerText=`${i[3]}  ${i[4]}`}(),async function(){let n=e.value;const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),a=await t.json();g(a.coord.lat,a.coord.lon)}(),e.value="",a.innerHTML="")}))})();