(()=>{"use strict";const e=document.querySelector(".search"),n=document.querySelector(".weather-details"),a=(document.querySelector(".extra-weather-details"),document.querySelector(".hourly-weather-details")),t=document.querySelector(".icon-div"),p=document.querySelector(".feels-like"),r=document.querySelector(".humidity"),o=document.querySelector(".wind-speed"),c=document.querySelector(".date-time"),i=[],s=[];async function d(){let n=e.value;const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),t=await a.json();return`${t.name} \n \n ${t.weather[0].description} \n \n ${Math.round(t.main.temp)} °C \n ${t.weather[0].icon}`}async function h(){let n=e.value;const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),t=await a.json();return`${Math.round(t.main.feels_like)} °C ${t.main.humidity}% ${Math.round(3.6*t.wind.speed)} km/h`}async function w(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();return`${n.name} \n \n ${n.weather[0].description} \n \n ${Math.round(n.main.temp)} °C \n ${n.weather[0].icon}`}async function g(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();return`${Math.round(n.main.feels_like)} °C ${n.main.humidity}% ${Math.round(3.6*n.wind.speed)} km/h`}async function m(e,n){const a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&appid=20a668db8e8042ee8d84be64a18dcb23&units=metric`),t=await a.json();!function(e){const n=new Date,a=n.getTime(),t=6e4*n.getTimezoneOffset(),p=new Date(a+t+1e3*e);s.push(p);let r=p.getHours();for(let e=0;e<8;e++)i[e].innerText=r+++":00 \n",24===r&&(r=0)}(t.timezone_offset),function(){const e=s.toString().split(" ").slice(0,5).join(" ");s.pop(),c.innerText=e}();for(let e=0;e<8;e++)i[e].innerHTML+=`${Math.round(t.hourly[e].temp)} °C`,b(t.hourly[e].weather[0].icon,e),x(t.hourly[e].weather[0].icon,e)}function u(e){let n=new Image;switch(e[0]){case"01d":n.src="http://openweathermap.org/img/wn/01d@2x.png",t.append(n);break;case"02d":n.src="http://openweathermap.org/img/wn/02d@2x.png",t.append(n);break;case"03d":n.src="http://openweathermap.org/img/wn/03d@2x.png",t.append(n);break;case"04d":n.src="http://openweathermap.org/img/wn/04d@2x.png",t.append(n);break;case"09d":n.src="http://openweathermap.org/img/wn/09d@2x.png",t.append(n);break;case"10d":n.src="http://openweathermap.org/img/wn/10d@2x.png",t.append(n);break;case"11d":n.src="http://openweathermap.org/img/wn/11d@2x.png",t.append(n);break;case"13d":n.src="http://openweathermap.org/img/wn/13d@2x.png",t.append(n);break;case"50d":n.src="http://openweathermap.org/img/wn/50d@2x.png",t.append(n)}}function l(e){let n=new Image;switch(e[0]){case"01n":n.src="http://openweathermap.org/img/wn/01n@2x.png",t.append(n);break;case"02n":n.src="http://openweathermap.org/img/wn/02n@2x.png",t.append(n);break;case"03":n.src="http://openweathermap.org/img/wn/03n@2x.png",t.append(n);break;case"04n":n.src="http://openweathermap.org/img/wn/04n@2x.png",t.append(n);break;case"09n":n.src="http://openweathermap.org/img/wn/09n@2x.png",t.append(n);break;case"10n":n.src="http://openweathermap.org/img/wn/10n@2x.png",t.append(n);break;case"11n":n.src="http://openweathermap.org/img/wn/11n@2x.png",t.append(n);break;case"13n":n.src="http://openweathermap.org/img/wn/13n@2x.png",t.append(n);break;case"50n":n.src="http://openweathermap.org/img/wn/50n@2x.png",t.append(n)}}function b(e,n){let a=new Image;switch(e){case"01d":a.src="http://openweathermap.org/img/wn/01d@2x.png",i[n].append(a);break;case"02d":a.src="http://openweathermap.org/img/wn/02d@2x.png",i[n].append(a);break;case"03d":a.src="http://openweathermap.org/img/wn/03d@2x.png",i[n].append(a);break;case"04d":a.src="http://openweathermap.org/img/wn/04d@2x.png",i[n].append(a);break;case"09d":a.src="http://openweathermap.org/img/wn/09d@2x.png",i[n].append(a);break;case"10d":a.src="http://openweathermap.org/img/wn/10d@2x.png",i[n].append(a);break;case"11d":a.src="http://openweathermap.org/img/wn/11d@2x.png",i[n].append(a);break;case"13d":a.src="http://openweathermap.org/img/wn/13d@2x.png",i[n].append(a);break;case"50d":a.src="http://openweathermap.org/img/wn/50d@2x.png",i[n].append(a)}}function x(e,n){let a=new Image;switch(e){case"01n":a.src="http://openweathermap.org/img/wn/01n@2x.png",i[n].append(a);break;case"02n":a.src="http://openweathermap.org/img/wn/02n@2x.png",i[n].append(a);break;case"03n":a.src="http://openweathermap.org/img/wn/03n@2x.png",i[n].append(a);break;case"04n":a.src="http://openweathermap.org/img/wn/04n@2x.png",i[n].append(a);break;case"09n":a.src="http://openweathermap.org/img/wn/09n@2x.png",i[n].append(a);break;case"10n":a.src="http://openweathermap.org/img/wn/10n@2x.png",i[n].append(a);break;case"11n":a.src="http://openweathermap.org/img/wn/11n@2x.png",i[n].append(a);break;case"13n":a.src="http://openweathermap.org/img/wn/13n@2x.png",i[n].append(a);break;case"50n":a.src="http://openweathermap.org/img/wn/50n@2x.png",i[n].append(a)}}!async function(){const e=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Cape Town&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric"),n=await e.json();m(n.coord.lat,n.coord.lon)}(),async function(){let e=await Promise.all([w(),g()]);const a=e[0].split(" ");a.pop();const t=a.join(" ");n.innerText=t;const c=e[0].split(" ").slice(-1);u(c),l(c);const i=e[1].split(" ");p.innerText=`${i[0]}  ${i[1]}`,r.innerText=i[2],o.innerText=`${i[3]}  ${i[4]}`}(),function(){for(let e=0;e<8;e++){const n=document.createElement("div");n.classList.add(`hour-div-${e}`),a.append(n),i.push(n)}}(),e.addEventListener("keydown",(a=>{13===a.keyCode&&(async function(){let e=await Promise.all([d(),h()]);const a=e[0].split(" ");a.pop();const t=a.join(" ");n.innerText=t;const c=e[0].split(" ").slice(-1);u(c),l(c);const i=e[1].split(" ");p.innerText=`${i[0]}  ${i[1]}`,r.innerText=i[2],o.innerText=`${i[3]}  ${i[4]}`}(),async function(){let n=e.value;const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&APPID=20a668db8e8042ee8d84be64a18dcb23&units=metric`),t=await a.json();m(t.coord.lat,t.coord.lon)}(),e.value="",t.innerHTML="")}))})();